<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        div {
            font-size: 200%;
            user-select: none;
        }
    </style>
    <script src="controller.js"></script>
</head>

<body>
    <div id="app"></div>

    <script>
        (function () {

            // model
            const model = {
                points: 0,
                pointsPerClick: 1,
                smileyIndex: 0
            };

            // view
            updateView();
            function updateView() {
                var smiley = model.smileyIndex == 0 ? 'üòÄ' : 'üòÅ';
                // document.getElementById('app').innerHTML = /*HTML*/`
                //     <div id="image">${smiley}</div>
                //     <div id="pointsInfo">${model.points}</div>
                //     <button id="upgrade">Kj√∏p oppgradering (10 poeng)</button>
                // `;

                const app = document.getElementById('app');
                app.replaceChildren(); 
                const image = document.createElement('div');                
                const pointsInfo = document.createElement('div');
                const upgrade = document.createElement('button');
                image.textContent = smiley;
                pointsInfo.textContent = model.points;
                upgrade.textContent = 'Kj√∏p oppgradering (10 poeng)';
                app.append(image, pointsInfo, upgrade);

                // const image = document.getElementById('image');
                // const upgrade = document.getElementById('upgrade');
                image.addEventListener('click', doClick);
                upgrade.addEventListener('click', buyUpgrade);
            }

            // controller
            function doClick() {
                model.points += model.pointsPerClick;
                model.smileyIndex = 1 - model.smileyIndex;
                updateView();
            }

            function buyUpgrade() {
                if (model.points < 10) return;
                model.points -= 10;
                model.pointsPerClick++;
                updateView();
            }
        })();
    </script>
</body>

</html>